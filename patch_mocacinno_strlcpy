--- strlcpy.h.orig      2024-09-10 12:21:32.703060855 +0000
+++ strlcpy.h   2024-09-10 12:27:18.195056748 +0000
@@ -19,11 +19,16 @@
 #include <stdlib.h>
 #include <string.h>

+#ifdef HAVE_CONFIG_H
+#include "config/bitcoin-config.h"
+#endif
+
 /*
  * Copy src to string dst of size siz.  At most siz-1 characters
  * will be copied.  Always NUL terminates (unless siz == 0).
  * Returns strlen(src); if retval >= siz, truncation occurred.
  */
+#ifndef HAVE_DECL_STRLCPY
 inline size_t strlcpy(char *dst, const char *src, size_t siz)
 {
     char *d = dst;
@@ -51,6 +56,7 @@

     return(s - src - 1); /* count does not include NUL */
 }
+#endif

 /*
  * Appends src to string dst of size siz (unlike strncat, siz is the
@@ -59,6 +65,8 @@
  * Returns strlen(src) + MIN(siz, strlen(initial dst)).
  * If retval >= siz, truncation occurred.
  */
+
+#ifndef HAVE_DECL_STRLCAT
 inline size_t strlcat(char *dst, const char *src, size_t siz)
 {
     char *d = dst;
@@ -88,3 +96,4 @@
     return(dlen + (s - src)); /* count does not include NUL */
 }
 #endif
+#endif // HAVE_STRLCPY
