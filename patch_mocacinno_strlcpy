--- strlcpy.h.orig      2024-09-10 13:42:13.231003315 +0000
+++ strlcpy.h   2024-09-10 13:43:14.407002588 +0000
@@ -15,11 +15,17 @@
  */
 #ifndef BITCOIN_STRLCPY_H
 #define BITCOIN_STRLCPY_H
+
+#ifdef HAVE_CONFIG_H
+#include "config/bitcoin-config.h"
+#endif
+
 /*
  * Copy src to string dst of size siz.  At most siz-1 characters
  * will be copied.  Always NUL terminates (unless siz == 0).
  * Returns strlen(src); if retval >= siz, truncation occurred.
  */
+#ifndef HAVE_DECL_STRLCPY
 inline size_t strlcpy(char *dst, const char *src, size_t siz)
 {
     char *d = dst;
@@ -47,7 +53,7 @@

     return(s - src - 1); /* count does not include NUL */
 }
-
+#endif //HAVE_DECL_STRLCPY
 /*
  * Appends src to string dst of size siz (unlike strncat, siz is the
  * full size of dst, not space left).  At most siz-1 characters
@@ -55,6 +61,7 @@
  * Returns strlen(src) + MIN(siz, strlen(initial dst)).
  * If retval >= siz, truncation occurred.
  */
+#ifndef HAVE_DECL_STRLCAT
 inline size_t strlcat(char *dst, const char *src, size_t siz)
 {
     char *d = dst;
@@ -84,3 +91,4 @@
     return(dlen + (s - src)); /* count does not include NUL */
 }
 #endif
+#endif // HAVE_STRLCPY
